From ddfd9b75e9db1fae9166debb13dc188f68d0f90e Mon Sep 17 00:00:00 2001
From: Alexander Mikhaylenko <alexm@gnome.org>
Date: Thu, 8 Oct 2020 12:18:35 +0500
Subject: [PATCH 1/2] carousel-box: Null-check child in get_page_at_position()

It can be null when there are no children in the carousel.
---
 src/hdy-carousel-box.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/hdy-carousel-box.c b/src/hdy-carousel-box.c
index 1e0355f..cf6e6eb 100644
--- a/src/hdy-carousel-box.c
+++ b/src/hdy-carousel-box.c
@@ -1723,7 +1723,7 @@ hdy_carousel_box_get_closest_snap_point (HdyCarouselBox *self)
  * the current position, the returned widget will match the currently
  * displayed page.
  *
- * Returns: the closest page.
+ * Returns: (nullable): the closest page.
  *
  * Since: 1.0
  */
@@ -1742,6 +1742,9 @@ hdy_carousel_box_get_page_at_position (HdyCarouselBox *self,
 
   child = get_closest_child_at (self, position, TRUE, FALSE);
 
+  if (!child)
+    return NULL;
+
   return child->widget;
 }
 
-- 
2.29.1

